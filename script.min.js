var triggers=document.querySelectorAll('input[type="radio"] ~ span'),radio=document.querySelectorAll('input[type="radio"]'),linkButton=document.querySelectorAll('.linkTo'),currentYear=new Date().getFullYear(),navHeight=$('.normal-nav').outerHeight(!0),animationDuration=1e3,textarea=$('.form textarea'),inputName=$('input[name="name"]'),inputEmail=$('input[name="email"]'),inputCompany=$('input[name="company"]'),input=document.querySelectorAll('form'),pName=document.querySelector('.name'),pMail=document.querySelector('.email'),pMsg=document.querySelector('.msg'),pComp=document.querySelector('.company'),highlight=document.createElement('span');highlight.classList.add('highlight'),document.body.append(highlight);function highlightLink(b){var c;this===window?(radio[0].checked&&(c=triggers[0].getBoundingClientRect()),radio[1].checked&&(c=triggers[1].getBoundingClientRect())):(c=this.getBoundingClientRect(),radio.forEach(function(f){f.checked=!1,f.value===b.target.innerHTML&&(f.checked=!0)}));var d={width:c.width,height:c.height,top:c.top+window.scrollY,left:c.left+window.scrollX};highlight.style.width=d.width+'px',highlight.style.height=d.height+'px',highlight.style.transform='translate('+d.left+'px, '+d.top+'px)'}function debounce(b){var d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:20,f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:!0,c;return function(){var g=this,h=arguments,j=f&&!c;clearTimeout(c),c=setTimeout(function i(){c=null,f||b.apply(g,h)},d),j&&b.apply(g,h)}}function validateEmail(b){var c=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return c.test(b)}function checkNav(){250<=window.scrollY?$('.normal-nav').addClass('scroll'):$('.normal-nav').removeClass('scroll')}function checkLength(b){var c=b.target.name,d=b.target.value.length,f=$('input[name='+c+']'),g=f.attr('maxlength');'comment'===c?(g=$('textarea[name='+c+']').attr('maxlength'),$('.form .msg .tooltip').html(d+'/'+g),3>d?textarea.css('border-bottom-color','red'):textarea.css('border-bottom-color','#2196f3')):'name'===c?(2>d?f.css('border-bottom-color','red'):f.css('border-bottom-color','#2196f3'),$('.form .name .tooltip').html(d+'/'+g)):'email'===c?(validateEmail(b.target.value)?f.css('border-bottom-color','#2196f3'):f.css('border-bottom-color','red'),$('.form .email .tooltip').html(d+'/'+g)):'company'===c?$('.form .company .tooltip').html(d+'/'+g):void 0;2<textarea.val().length&&1<inputName.val().length&&validateEmail(inputEmail.val())?$('#button').css('background-color','#2196f3'):$('#button').css('background-color','red')}function swoosh(b){'name'===b.target.name&&pName.classList.add('swoosh'),'email'===b.target.name&&pMail.classList.add('swoosh'),'comment'===b.target.name&&pMsg.classList.add('swoosh'),'company'===b.target.name&&pComp.classList.add('swoosh')}function swooshRemove(b){''===b.target.value&&('name'===b.target.name&&pName.classList.remove('swoosh'),'email'===b.target.name&&pMail.classList.remove('swoosh'),'comment'===b.target.name&&pMsg.classList.remove('swoosh'),'company'===b.target.name&&pComp.classList.remove('swoosh'))}function submit(b){if(2<textarea.val().length&&1<inputName.val().length&&validateEmail(inputEmail.val()));else return void b.preventDefault()}$('#button').on('click',function(b){submit(b)}),$('body').on('click',function(){'0px'===$('.flex-nav').css('right')&&($('#burger-container').removeClass('open'),$('.flex-nav').removeClass('open'))}),$('#burger-container').on('click',function(){$('#burger-container').toggleClass('open'),$('.flex-nav').toggleClass('open')}),$('.collapse').on('click',function(b){var c;if('I'===b.target.nodeName)c=$(b.target.parentNode.parentNode.nextElementSibling.parentNode);else if('P'===b.target.nodeName)c=$(b.target.parentNode.nextElementSibling.parentNode);else return;'31px'<=c.css('height')?c.css('height','30px'):c.css('height','400px'),c.on('transitionend',function(){highlightLink()})}),linkButton.forEach(function(b){return b.addEventListener('click',function(c){switch(c.preventDefault(),b.innerHTML){case'about':$('html, body').animate({scrollTop:$('#'+b.innerHTML).offset().top-navHeight},animationDuration);break;case'projects':$('html, body').animate({scrollTop:$('#'+b.innerHTML).offset().top-navHeight},animationDuration);break;case'contact':$('html, body').animate({scrollTop:$('#'+b.innerHTML).offset().top-navHeight},animationDuration);break;default:'about'===b.getAttribute('data-pos')?$('html, body').animate({scrollTop:$('#about').offset().top-navHeight},animationDuration):$('html, body').animate({scrollTop:0},animationDuration);}})}),window.addEventListener('resize',debounce(highlightLink)),triggers.forEach(function(b){return b.addEventListener('click',highlightLink)}),input.forEach(function(b){return b.addEventListener('keyup',function(c){return checkLength(c)})}),input.forEach(function(b){return b.addEventListener('focusin',function(c){return swoosh(c)})}),input.forEach(function(b){return b.addEventListener('focusout',function(c){return swooshRemove(c)})}),window.addEventListener('scroll',debounce(checkNav,10)),$(window).ready(function(){$('.title').fadeTo(animationDuration+1e3,1),setTimeout(function(){highlightLink()},500),2018<currentYear&&$('.currentYear').html(' - '+currentYear)});